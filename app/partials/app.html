<form>
	<label>Guild Name
	<input type="text" name="input" ng-model="request.guild">
	</label>
	<label>Server
	<input type="text" name="input" ng-model="request.server">
	</label>
	<label>Region
	<input type="text" name="input" ng-model="request.region">
	</label>
	<label>Raid
	<select ng-model="raid">
		<option ng-repeat="raid in raids" value="{{raid.id}}">{{raid.name}}</option>
	</select>
	</label>
	<label>Difficulty
	<select ng-model="difficulty">
		<option ng-repeat="difficulty in difficulties" value="{{difficulty.difficultyId}}">{{difficulty.difficultyName}}</option>
	</select>				
	</label>
	<button ng-disabled="searchIsRunning" ng-click="search(request)">Search</button>
</form>

<style>
table {
    border-collapse: collapse;
    width: 100%;
}

th, td {
    padding: 2px;
}

tr:nth-child(even){background-color: #bfbfbf}
tr:nth-child(odd){background-color: #e6e6e6}

tr:hover {
	background-color: #ffffb3;
}
</style>

<div>
<table>
<div>{{players.length}} Players</div>
<thead>
  <tr>
  	<th colspan="2">Index</th>
  	<th ng-click="order('name')" colspan="2">Name</th>
  	<th ng-click="order('type')" colspan="2">Class</th>
  	<th ng-click="order('rank.average')" colspan="2">Average</th>
  	<th ng-click="order('rank.median')" colspan="2">Median</th>
  	<th ng-repeat="encounter in zone.encounters" colspan="2"><div ng-click="order('rank.encounters[' + encounter.id + '].average')">{{encounter.name}}</div></th>
  </tr>
</thead>
<tbody>
  <tr ng-repeat="player in players | orderBy:orderFilter:reverse">
  	<td colspan="2">{{$index+1}}</td>
  	<td colspan="2">{{player.name}}</td>
    <td colspan="2">{{player.type}}</td>
    <td align="center" colspan="2" ng-style="player.rank.average > 80 && {'color': '#009933'} || player.rank.average < 80 && player.rank.average >= 50 && {'color': '#999900'} || player.rank.average < 50 && {'color': '#800000'}">{{player.rank.average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.median > 80 && {'color': '#009933'} || player.rank.median < 80 && player.rank.median >= 50 && {'color': '#999900'} || player.rank.median < 50 && {'color': '#800000'}">{{player.rank.median  | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1778].average > 80 && {'color': '#009933'} || player.rank.encounters[1778].average < 80 && player.rank.encounters[1778].average >= 50 && {'color': '#999900'} || player.rank.encounters[1778].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1778].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1785].average > 80 && {'color': '#009933'} || player.rank.encounters[1785].average < 80 && player.rank.encounters[1785].average >= 50 && {'color': '#999900'} || player.rank.encounters[1785].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1785].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1787].average > 80 && {'color': '#009933'} || player.rank.encounters[1787].average < 80 && player.rank.encounters[1787].average >= 50 && {'color': '#999900'} || player.rank.encounters[1787].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1787].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1798].average > 80 && {'color': '#009933'} || player.rank.encounters[1798].average < 80 && player.rank.encounters[1798].average >= 50 && {'color': '#999900'} || player.rank.encounters[1798].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1798].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1786].average > 80 && {'color': '#009933'} || player.rank.encounters[1786].average < 80 && player.rank.encounters[1786].average >= 50 && {'color': '#999900'} || player.rank.encounters[1786].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1786].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1783].average > 80 && {'color': '#009933'} || player.rank.encounters[1783].average < 80 && player.rank.encounters[1783].average >= 50 && {'color': '#999900'} || player.rank.encounters[1783].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1783].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1788].average > 80 && {'color': '#009933'} || player.rank.encounters[1788].average < 80 && player.rank.encounters[1788].average >= 50 && {'color': '#999900'} || player.rank.encounters[1788].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1788].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1777].average > 80 && {'color': '#009933'} || player.rank.encounters[1777].average < 80 && player.rank.encounters[1777].average >= 50 && {'color': '#999900'} || player.rank.encounters[1777].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1777].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1800].average > 80 && {'color': '#009933'} || player.rank.encounters[1800].average < 80 && player.rank.encounters[1800].average >= 50 && {'color': '#999900'} || player.rank.encounters[1800].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1800].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1794].average > 80 && {'color': '#009933'} || player.rank.encounters[1794].average < 80 && player.rank.encounters[1794].average >= 50 && {'color': '#999900'} || player.rank.encounters[1794].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1794].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1784].average > 80 && {'color': '#009933'} || player.rank.encounters[1784].average < 80 && player.rank.encounters[1784].average >= 50 && {'color': '#999900'} || player.rank.encounters[1784].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1784].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1795].average > 80 && {'color': '#009933'} || player.rank.encounters[1795].average < 80 && player.rank.encounters[1795].average >= 50 && {'color': '#999900'} || player.rank.encounters[1795].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1795].average | number:2}}</td>
    <td align="center" colspan="2" ng-style="player.rank.encounters[1799].average > 80 && {'color': '#009933'} || player.rank.encounters[1799].average < 80 && player.rank.encounters[1799].average >= 50 && {'color': '#999900'} || player.rank.encounters[1799].average < 50 && {'color': '#800000'}">{{player.rank.encounters[1799].average | number:2}}</td>
  </tr>
</tbody>
</table>
</div>